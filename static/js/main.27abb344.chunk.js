(window.webpackJsonpalicorp=window.webpackJsonpalicorp||[]).push([[0],{30:function(e,a,t){e.exports=t(50)},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){},38:function(e,a,t){},45:function(e,a,t){},50:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(25),r=t.n(l),s=(t(35),t(36),t(37),t(38),t(2)),o=t(7),i=t(19),m=t.n(i),u=t(26),d=t(13),p=t(14),E=t(15),b=t.n(E),g=(t(42),t(44),t(16)),f={apiKey:"AIzaSyB6XEWyLg5E4b7y04d0lPi4hBReaV87z30",authDomain:"alicorp-900d0.firebaseapp.com",databaseURL:"https://alicorp-900d0.firebaseio.com",projectId:"alicorp-900d0",storageBucket:"alicorp-900d0.appspot.com",messagingSenderId:"231413241727",appId:"1:231413241727:web:5d7d8ea10738dddb"},v=new(function(){function e(){Object(d.a)(this,e),b.a.initializeApp(f),this.auth=b.a.auth(),this.db=b.a.firestore()}return Object(p.a)(e,[{key:"login",value:function(e,a){return this.auth.signInWithEmailAndPassword(e,a)}},{key:"logout",value:function(){return this.auth.signOut()}},{key:"register",value:function(){var e=Object(u.a)(m.a.mark(function e(a,t,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""===a){e.next=4;break}return e.next=3,this.auth.createUserWithEmailAndPassword(t,n);case 3:return e.abrupt("return",this.auth.currentUser.updateProfile({displayName:a}));case 4:case"end":return e.stop()}},e,this)}));return function(a,t,n){return e.apply(this,arguments)}}()},{key:"isInitialized",value:function(){var e=this;return new Promise(function(a){e.auth.onAuthStateChanged(a)})}},{key:"getProducts",value:function(){return Object(g.a)(this.db.collection("productos"),{snapshotListenOptions:{includeMetadataChanges:!0}})}},{key:"getUserId",value:function(){return Object(g.a)(this.db.collection("users"),{snapshotListenOptions:{includeMetadataChanges:!0}})}},{key:"getOrders",value:function(){return Object(g.a)(this.db.collection("pedidos"),{snapshotListenOptions:{includeMetadataChanges:!0}})}},{key:"addOrder",value:function(e){return this.db.collection("pedidos").add(e).then(function(e){console.log("Document written with ID: ",e.id)})}}]),e}()),h=t(11),N=new(function(){function e(){Object(d.a)(this,e),this.authenticated=!1}return Object(p.a)(e,[{key:"login",value:function(e){this.authenticated=!0,e()}},{key:"logout",value:function(e){this.authenticated=!1,e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}());function y(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}var O=function(e){var a=Object(n.useState)({email:"",password:""}),t=Object(s.a)(a,2),l=t[0],r=t[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),m=i[0],u=i[1],d=function(e){r(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?y(t,!0).forEach(function(a){Object(h.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}({},l,Object(h.a)({},e.target.name,e.target.value)))};return c.a.createElement("section",{className:"fill-available d-flex align-items-center justify-content-center"},c.a.createElement("div",{className:"containterLogin"},c.a.createElement("h2",null,"Bienvenido"),c.a.createElement("form",{onSubmit:function(a){a.preventDefault(),v.login(l.email,l.password).then(function(a){N.login(function(){e.history.push("/home")})}).catch(function(e){return u(e.message)})}},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"Email"),c.a.createElement("div",{className:"col-sm-10"},c.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail3",name:"email",placeholder:"Email",onChange:d}))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"Password"),c.a.createElement("div",{className:"col-sm-10"},c.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"password",onChange:d}))),c.a.createElement("div",{className:"form-group "},c.a.createElement("div",{className:"col-sm-10 offset-sm-2"},c.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Sign in"))),m&&c.a.createElement("div",{className:"form-group"},c.a.createElement("p",{className:"col-sm-10 offset-sm-2"}," ",m))),c.a.createElement("div",null,c.a.createElement("p",null,"\xbfA\xfan no tienes una cuenta? ",c.a.createElement("a",{href:"#/register"},"Reg\xedstrate aqu\xed")))))};var j=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),l=t[0],r=t[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),m=i[0],u=i[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),E=p[0],b=p[1],g=Object(n.useState)(""),f=Object(s.a)(g,2),h=f[0],y=f[1],O=v.getUserId(),j=Object(s.a)(O,1)[0];return c.a.createElement("section",{className:"fill-available d-flex align-items-center justify-content-center"},c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("h2",null,"Registro")),c.a.createElement("form",{onSubmit:function(a){a.preventDefault();var t=j.docs.filter(function(e){return e.data().id===E}).map(function(e){return e.data().name});0!==t.length?v.register(t[0],l,m).then(function(a){N.login(function(){e.history.push("/home")}),y("")}).catch(function(e){console.log(e),"auth/email-already-in-use"===e.code?y("Email inv\xe1lido o ya en uso. Intente nuevamente."):"auth/weak-password"===e.code?y("Ingrese contrase\xf1a de m\xednimo 6 caract\xe9res."):y(e.message)}):y("Es necesario que seas operario de Alicorp para ingresar a nuestra web.")}},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"col-sm-2 col-form-label mb-0"},"ID"),c.a.createElement("div",{className:"col-sm-10"},c.a.createElement("input",{type:"text",className:"form-control",id:"textId",placeholder:"ID trabajador",value:E,onChange:function(e){return b(e.target.value)}})),c.a.createElement("small",{className:"col-sm-2"},"Ingresar aqu\xed el c\xf3digo de trabajador")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"Email"),c.a.createElement("div",{className:"col-sm-10"},c.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail3",placeholder:"Email",value:l,onChange:function(e){return r(e.target.value)}}))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"Password"),c.a.createElement("div",{className:"col-sm-10"},c.a.createElement("input",{type:"password",className:"form-control",placeholder:"password",value:m,onChange:function(e){return u(e.target.value)}}))),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"col-sm-10 offset-sm-2"},c.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Registrarme"))),h&&c.a.createElement("div",{className:"form-group"},c.a.createElement("p",{className:"col-sm-10"}," ",h))),c.a.createElement("div",null,c.a.createElement("p",null,"\xbfYa tienes una cuenta? ",c.a.createElement("a",{href:"#"},"Inicia sesi\xf3n")))))},w=(t(45),function(){return c.a.createElement("header",null,c.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark color fixed-top"},c.a.createElement("button",{className:"navbar-toggler navbar-togger-right",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("a",{className:"navbar-brand",href:"#"},c.a.createElement("img",{"data-testid":"imgLogo",style:{maxWidth:"100px",maxHeigth:"100px"},className:"logo d-inline-block align-top",src:"https://i.postimg.cc/qvqmHQNy/image.png",alt:"logo"})),c.a.createElement("a",{className:"navbar-brand",href:"#"},c.a.createElement("i",{className:"fas fa-shopping-cart"})),c.a.createElement("form",{className:"form-inline my-2 my-lg-0"},c.a.createElement("input",{className:"form-control mr-sm-2 form-size ",type:"text",placeholder:"Search","aria-label":"Search"}),c.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0 ",type:"submit"},"Search")),c.a.createElement("ul",{class:"navbar-nav mr-auto"},c.a.createElement("li",{class:"nav-item active"},c.a.createElement("a",{class:"nav-link",href:"#"},"Home ",c.a.createElement("span",{class:"sr-only"},"(current)"))),c.a.createElement("li",{class:"nav-item"},c.a.createElement("a",{class:"nav-link",href:"#"},"Link")),c.a.createElement("li",{class:"nav-item"},c.a.createElement("a",{class:"nav-link disabled",href:"#"},"Disabled"))),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo01"},c.a.createElement("div",{id:"barraNav",className:"d-sm-block d-md-none"},c.a.createElement("ul",{className:"nav d-xl-block"},c.a.createElement("li",{className:"nav-item containerNavList"},c.a.createElement("a",{className:"nav-link active listNav",href:"#"},"Active")),c.a.createElement("li",{className:"nav-item containerNavList"},c.a.createElement("a",{className:"nav-link listNav",href:"#"},"Link")),c.a.createElement("li",{className:"nav-item containerNavList"},c.a.createElement("a",{className:"nav-link active listNav",href:"#"},"Active")),c.a.createElement("li",{className:"nav-item containerNavList"},c.a.createElement("a",{className:"nav-link listNav",href:"#"},"Cerrar Sesion")))))))}),k=function(e){var a=e.img;return c.a.createElement("div",{className:"col-md-2 col-4"},c.a.createElement("div",{className:"box"},c.a.createElement("img",{className:"d-block w-100",src:a,alt:""})))},P=function(){return c.a.createElement("section",{className:"boxes"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement(k,{img:"https://i.postimg.cc/k5XSYNyZ/ACEITES.png"}),c.a.createElement(k,{img:"https://i.postimg.cc/hjQfN2QC/CONSERVAS.png"}),c.a.createElement(k,{img:"https://i.postimg.cc/Fs47ngrZ/PASTAS.png"}),c.a.createElement(k,{img:"https://i.postimg.cc/rFjFnBYV/DETER.png"}),c.a.createElement(k,{img:"https://i.postimg.cc/NG7gLht6/JABONES.png"}),c.a.createElement(k,{img:"https://i.postimg.cc/8zsDyj64/COMBOS.png"}))))},x=function(e){e.productId,e.setOrders,e.orders;return c.a.createElement("div",{class:"btn-group w-100",role:"group","aria-label":"Basic example"},c.a.createElement("button",{type:"button",class:"btn col-4 btn-success"},c.a.createElement("i",{className:"fas fa-minus blue-color"})),c.a.createElement("button",{type:"button",class:"btn col-4 btn-success"},c.a.createElement("span",{"data-testid":"qty",className:"text-gray"},"1")),c.a.createElement("button",{type:"button",class:"btn col-4 btn-success"},c.a.createElement("i",{className:"fas fa-plus blue-color"})))},A=t(8),S=function(e){var a=e.el,t=e.setOrders,l=e.orders,r=Object(n.useState)(!1),o=Object(s.a)(r,2),i=o[0],m=o[1],u=Object(n.useState)(!0),d=Object(s.a)(u,2),p=d[0],E=d[1],b=parseFloat(a.data().precio/a.data().unid),g=Math.round(100*b)/100,f=a.data().name;return c.a.createElement("div",{className:"card mx-2 col-5 col-md-4 col-lg-2 fs-13 p-0",key:a.data().id},c.a.createElement("img",{className:"card-img-top",src:a.data().img,alt:"Card image cap"}),c.a.createElement("div",{className:"card-body p-2"},c.a.createElement("p",{className:"card-title"},f.slice(0,25)+"..."),c.a.createElement("h5",{className:"card-text align-center"}," S/. ",a.data().precio," "),c.a.createElement("div",{className:"justify-content-between d-flex"},c.a.createElement("p",{className:"my-0 fs-10"},"Precio x unid."),c.a.createElement("p",{className:"my-0 fs-10"},g)),c.a.createElement("div",{className:"justify-content-between d-flex"},c.a.createElement("p",{className:"my-0 fs-10"},"Precio venta sug. x unid."),c.a.createElement("p",{className:"my-0 fs-10"},a.data()["price-suggested"]))),c.a.createElement("div",{className:"card-footer p-0"},c.a.createElement("div",{className:"align-center mt-2"},!0===p&&c.a.createElement("button",{type:"button",className:"w-100 btn btn-outline-success",onClick:function(){m(!0),E(!1)}},"Agregar"),!0===i&&c.a.createElement("div",{className:"btn btn-success"},c.a.createElement(x,{productId:a.data().id,setOrders:t,orders:l})))))},C=t(29);function D(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}var I={delete:function(e,a){return e.filter(function(e){return e.id!==a})},increase:function(e,a){return e.map(function(e){return e.id}).includes(a)?e.map(function(e){return e.id===a?{id:a,qty:e.qty+1}:e}):[].concat(Object(C.a)(e),[{id:a,qty:1}])},decrease:function(e,a){return e.filter(function(e){return e.qty>1}).map(function(e){return e.id}).includes(a)?e.map(function(e){return e.id===a?{id:a,qty:e.qty-1}:e}):I.delete(e,a)},mix:function(e,a){var t=[];return e.forEach(function(e){return a.forEach(function(a){e.id===a.id&&t.push(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?D(t,!0).forEach(function(a){Object(h.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}({},e,{qty:a.qty,total:a.qty*e.precio}))})}),t}},q=I,L=function(e){var a=e.allProducts,t=e.category,l=(e.allOrders,Object(n.useState)([])),r=Object(s.a)(l,2),o=r[0],i=r[1],m=function(e){return function(a){i(e(o,a))}};console.log(o);m(q.increase),m(q.decrease),m(q.delete);return c.a.createElement("div",{className:"mx-2 d-flex"},c.a.createElement("div",{className:"flex-wrap d-flex justify-content-around"},a&&a.docs.filter(function(e){return e.data().category===t}).map(function(e){return c.a.createElement(S,{el:e,setOrders:i,orders:o})})))},B=function(e){var a=e.qty;return c.a.createElement("div",{className:"col-6 table"},c.a.createElement("button",{className:"table-cell btn-img-plus btn-none",type:"button",onClick:function(){}},c.a.createElement("img",{src:"https://i.postimg.cc/t4NLbJd9/mas.png"})),c.a.createElement("p",{className:"table-cell"},a),c.a.createElement("button",{className:"table-cell btn-img-plus btn-none",type:"button"},c.a.createElement("img",{src:"https://i.postimg.cc/XvNtYWxd/menos.png"})))},T=function(e){var a=e.pedido;return c.a.createElement("tr",null,c.a.createElement("td",null,a.name),c.a.createElement("td",null,a.precio),c.a.createElement("td",null,"producto.price-suggested"),c.a.createElement("td",null,"    ",c.a.createElement(B,{qty:a.qty})),c.a.createElement("td",null,"producto.gananancia"),c.a.createElement("td",null,a.costo),c.a.createElement("td",null,c.a.createElement("button",{className:"btn-none",onClick:function(){}},c.a.createElement("img",{src:"https://i.postimg.cc/pdd1tZXB/delete.png",className:"btn-img-delete"}))))},z=function(e){return Object(A.a)(e),c.a.createElement("div",{className:"col-6 table"},c.a.createElement("p",null,"Resumen del Pedido"),c.a.createElement("p",null,"Cantidad del Producto: 5"),c.a.createElement("p",null,"Total a pagar:  s/.1200 "),c.a.createElement("button",{className:"btn btn-success",onClick:function(){}},"Continuar "))},R=function(e){var a=e.pedidos;return c.a.createElement("form",null,a&&c.a.createElement("div",null,a.docs.map(function(e){return c.a.createElement("div",null,c.a.createElement("div",{className:"text-black",style:{maxWidth:"100%"}},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",null,c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"Producto"),c.a.createElement("th",{scope:"col"},"Precio"),c.a.createElement("th",{scope:"col"},"Precio  de Venta Sugerido"),c.a.createElement("th",{scope:"col"},"Cantidad"),c.a.createElement("th",{scope:"col"},"Ganancia"),c.a.createElement("th",{scope:"col"}," Total"))),c.a.createElement("tbody",null,e.data().orders.map(function(e){return c.a.createElement(T,{pedido:e})}))),c.a.createElement(z,null)))))})))},V=function(e){var a=e.name,t=e.aClass;return c.a.createElement("ul",{className:"nav nav-tabs w-100 my-3 d-flex justify-content-between",role:"tablist"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:t,"data-toggle":"tab",href:"#",role:"tab"},a)),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{"data-toggle":"tab",href:"#",role:"tab"}," Ver todo")))},W=function(){return c.a.createElement("div",{className:"contmin"},c.a.createElement("div",{id:"myCarousel",className:"carousel slide","data-ride":"carousel"},c.a.createElement("div",{className:"carousel-inner"},c.a.createElement("div",{className:"carousel-item active"},c.a.createElement("img",{className:"d-block w-100",src:"http://semanaeconomica.com/wp-content/uploads/2019/05/ABridora_Atun_primor_.jpg",alt:"Post Picture"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block w-100",src:"https://www.codigo.pe/wp-content/uploads/2015/03/11062693_869860083074178_3067450408357419463_n.png",alt:"Post Picture"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block w-100",src:"https://storage.googleapis.com/twg-content/images/28-5-2018-Featured-Bolivar-Peru-v2.width-1200.jpg",alt:"Post Picture"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block w-100",src:"https://gestion.pe/resizer/9IepuAMIaSE85XpzcEZVtL0DrnQ=/980x528/smart/arc-anglerfish-arc2-prod-elcomercio.s3.amazonaws.com/public/NGNVG2KPPRDBFODOAPCTHRTATA.jpg"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block w-100",src:"http://3.bp.blogspot.com/-8-_Xa8G3Tw0/V-iLfSA3p5I/AAAAAAAAAA4/cRasQZVQO-AvrsH2joN9Yh0a9Uvf6SBDACK4B/s1600/Screen-Shot-2014-05-22-at-11.51.55-AM%2B%25281%2529.png",alt:""})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block w-100",src:"https://s3-eu-west-1.amazonaws.com/rankia/images/valoraciones/0009/7966/Productos-Alicorp.jpg?1359712611",alt:""}))),c.a.createElement("a",{className:"carousel-control-prev",href:"#myCarousel",role:"button","data-slide":"prev"},c.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Previous")),c.a.createElement("a",{className:"carousel-control-next",href:"#myCarousel",role:"button","data-slide":"next"},c.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Next"))))},M=function(){var e=v.getProducts(),a=Object(s.a)(e,1)[0],t=v.getOrders(),n=Object(s.a)(t,1)[0];return console.log(a),console.log(n),c.a.createElement("main",null,c.a.createElement(w,null),c.a.createElement(W,null),c.a.createElement("section",{className:"container-fluid"},c.a.createElement("div",null),c.a.createElement("div",null,c.a.createElement(V,{name:"Categor\xedas",aClass:"nav-link active"}),c.a.createElement(P,null))),c.a.createElement("section",{className:"container-fluid"},c.a.createElement("div",null,c.a.createElement(V,{name:"Jabones",aClass:"nav-link active"}),c.a.createElement(L,{allProducts:a,category:"Jabones",allOrders:n})),c.a.createElement("div",null,c.a.createElement(V,{name:"Pastas",aClass:"nav-link active"}),c.a.createElement(L,{allProducts:a,category:"Pastas",allOrders:n})),c.a.createElement("div",null,c.a.createElement(V,{name:"Conservas",aClass:"nav-link active"}),c.a.createElement(L,{allProducts:a,category:"Conservas",allOrders:n})),c.a.createElement("div",null,c.a.createElement(V,{name:"Aceites",aClass:"nav-link active"}),c.a.createElement(L,{allProducts:a,category:"Aceites",allOrders:n})),c.a.createElement("div",null,c.a.createElement(V,{name:"Detergentes",aClass:"nav-link active"}),c.a.createElement(L,{allProducts:a,category:"Detergentes",allOrders:n}))),c.a.createElement(R,{pedidos:n}))},_=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],l=a[1];return Object(n.useEffect)(function(){v.isInitialized().then(function(e){l(e)})}),!1!==t?c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/",component:O}),c.a.createElement(o.a,{exact:!0,path:"/login",component:O}),c.a.createElement(o.a,{exact:!0,path:"/register",component:j}),c.a.createElement(o.a,{exact:!0,path:"/home",component:M})):c.a.createElement("div",{id:"loader"},"Loading")},F=t(18);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(F.a,null,c.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.27abb344.chunk.js.map